{% load static %}
<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formations BTP - Gourmelon BTP</title>
    <link rel="stylesheet" href="{% static 'core/css/style.css' %}?v=1.2">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body class="body-overflow-auto">
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-logo">
            <a href="{% url 'index' %}">
                <img src="{% static 'core/images/logo.jpg' %}" alt="Gourmelon BTP" style="height: 50px;">
            </a>
        </div>
        <div class="nav-links">
            <a href="{% url 'index' %}">Accueil</a>
            <a href="{% url 'formation' %}" class="active">Formations</a>
            <a href="{% url 'livrables' %}">Livrables</a>
            <a href="{% url 'contact' %}">Contact</a>
            {% if user.is_authenticated %}
                {% if user.is_staff %}
                <a href="{% url 'dashboard_home' %}" class="nav-link-bold" style="margin-left: 0.5rem;">Mon espace</a>
                {% else %}
                <a href="{% url 'mes_rendez_vous' %}" class="nav-link-bold" style="margin-left: 0.5rem;">Mes rendez-vous</a>
                {% endif %}
                <a href="{% url 'dashboard_logout' %}" style="margin-left: 0.5rem; padding: 0.4rem 0.8rem; background: #dc3545; color: white; border-radius: 5px; text-decoration: none; font-size: 0.9rem;">D&eacute;connexion</a>
            {% else %}
                <a href="{% url 'connexion' %}" class="nav-link-bold" style="margin-left: 0.5rem;">Se connecter</a>
            {% endif %}
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-content">
            <h1 class="hero-title">Formations Professionnelles BTP</h1>
            <p class="hero-subtitle">11 ans d'exp√©rience pour vous former aux m√©tiers du b√¢timent</p>
            <button class="btn-primary book-appointment-btn" data-type="formation">R√©server un rendez-vous</button>
        </div>
    </section>

    <!-- Messages Django -->
    {% if messages %}
    <div class="messages-container">
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }}">
            {{ message }}
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <!-- Formations Section -->
    <section class="section formations-section">
        <div class="container">
            <h2 class="section-title">Nos Programmes de Formation</h2>
            <p class="section-description">Des formations adapt√©es √† tous les niveaux, du d√©butant au chef de chantier</p>

            <div class="formation-grid">
                <!-- Formation 1: Niveau D√©butant -->
                <div class="formation-card reveal">
                    <div class="card-ribbon">Populaire</div>
                    <div class="card-header">
                        <h3>Fondamentaux du BTP</h3>
                        <span class="badge badge-beginner">D√©butant</span>
                    </div>
                    <div class="card-body">
                        <p class="description">Introduction compl√®te aux bases du b√¢timent, s√©curit√© sur chantier, et lecture de plans. Parfait pour d√©marrer votre carri√®re dans le BTP.</p>
                        <div class="price-tag">1 500‚Ç¨</div>
                        <ul class="features">
                            <li>‚úì S√©curit√© sur chantier (CSPS)</li>
                            <li>‚úì Outillage et mat√©riaux de base</li>
                            <li>‚úì Lecture de plans niveau 1</li>
                            <li>‚úì Techniques de ma√ßonnerie basique</li>
                            <li>‚úì Gestes et postures</li>
                            <li>‚è± Dur√©e: 2 semaines (70h)</li>
                        </ul>
                        <button class="btn-formation book-appointment-btn" data-type="formation">R√©server ma place</button>
                    </div>
                </div>

                <!-- Formation 2: Niveau Interm√©diaire -->
                <div class="formation-card reveal">
                    <div class="card-header">
                        <h3>Perfectionnement BTP</h3>
                        <span class="badge badge-intermediate">Interm√©diaire</span>
                    </div>
                    <div class="card-body">
                        <p class="description">Techniques avanc√©es de construction, gestion d'√©quipe, et ma√Ætrise d'outils complexes. Pour professionnels souhaitant √©voluer.</p>
                        <div class="price-tag">2 500‚Ç¨</div>
                        <ul class="features">
                            <li>‚úì Ma√ßonnerie complexe</li>
                            <li>‚úì Gestion d'√©quipe et planning</li>
                            <li>‚úì Lecture de plans niveau 2</li>
                            <li>‚úì Utilisation engins de chantier</li>
                            <li>‚úì Coordination des corps d'√©tat</li>
                            <li>‚è± Dur√©e: 4 semaines (140h)</li>
                        </ul>
                        <button class="btn-formation book-appointment-btn" data-type="formation">R√©server ma place</button>
                    </div>
                </div>

                <!-- Formation 3: Niveau Avanc√© -->
                <div class="formation-card reveal">
                    <div class="card-ribbon ribbon-premium">Premium</div>
                    <div class="card-header">
                        <h3>Chef de Chantier</h3>
                        <span class="badge badge-advanced">Avanc√©</span>
                    </div>
                    <div class="card-body">
                        <p class="description">Formation compl√®te pour devenir chef de chantier: gestion de projet, budget, r√©glementation, et management d'√©quipe.</p>
                        <div class="price-tag">4 000‚Ç¨</div>
                        <ul class="features">
                            <li>‚úì Gestion de projet BTP</li>
                            <li>‚úì Budget et devis</li>
                            <li>‚úì R√©glementation et normes</li>
                            <li>‚úì Management d'√©quipe</li>
                            <li>‚úì Qualit√© et s√©curit√©</li>
                            <li>‚è± Dur√©e: 6 semaines (210h)</li>
                        </ul>
                        <button class="btn-formation book-appointment-btn" data-type="formation">R√©server ma place</button>
                    </div>
                </div>

                <!-- Formation 4: Sp√©cialisation -->
                <div class="formation-card reveal">
                    <div class="card-header">
                        <h3>Sp√©cialisation Technique</h3>
                        <span class="badge badge-special">Sp√©cialisation</span>
                    </div>
                    <div class="card-body">
                        <p class="description">Modules sp√©cialis√©s: isolation thermique, √©tanch√©it√©, plomberie, √©lectricit√©, ou menuiserie. Choisissez votre domaine d'expertise.</p>
                        <div class="price-tag">1 800‚Ç¨</div>
                        <ul class="features">
                            <li>‚úì Module au choix</li>
                            <li>‚úì Pratique intensive</li>
                            <li>‚úì Certification professionnelle</li>
                            <li>‚úì Mise en situation r√©elle</li>
                            <li>‚úì Suivi personnalis√©</li>
                            <li>‚è± Dur√©e: 3 semaines (105h)</li>
                        </ul>
                        <button class="btn-formation book-appointment-btn" data-type="formation">R√©server ma place</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Why Choose Us Section -->
    <section class="section why-choose-section">
        <div class="container">
            <h2 class="section-title">Pourquoi choisir nos formations ?</h2>
            <div class="features-grid">
                <div class="feature-item reveal">
                    <div class="feature-icon">üéØ</div>
                    <h3>11 ans d'exp√©rience</h3>
                    <p>Expert reconnu avec plus d'une d√©cennie dans le BTP</p>
                </div>
                <div class="feature-item reveal">
                    <div class="feature-icon">üë®‚Äçüè´</div>
                    <h3>Formation pratique</h3>
                    <p>80% de pratique sur chantier r√©el</p>
                </div>
                <div class="feature-item reveal">
                    <div class="feature-icon">üìú</div>
                    <h3>Certification officielle</h3>
                    <p>Dipl√¥mes reconnus par la profession</p>
                </div>
                <div class="feature-item reveal">
                    <div class="feature-icon">üíº</div>
                    <h3>Accompagnement emploi</h3>
                    <p>Aide au placement professionnel</p>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
        <div class="container">
            <h2>Pr√™t √† d√©marrer votre formation ?</h2>
            <p>Prenez rendez-vous pour discuter de vos objectifs professionnels</p>
            <button class="btn-primary btn-large book-appointment-btn" data-type="formation">R√©server un rendez-vous</button>
        </div>
    </section>

    <!-- Booking Modal -->
    <div id="booking-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>R√©server un rendez-vous</h2>
            <p class="modal-description">Choisissez une date et un cr√©neau horaire pour discuter de votre projet de formation.</p>

            <form method="post" class="booking-form" novalidate>
                {% csrf_token %}

                <div class="form-row">
                    <div class="form-group">
                        <label for="{{ form.name.id_for_label }}">{{ form.name.label }}</label>
                        {{ form.name }}
                        {{ form.name.errors }}
                    </div>
                    <div class="form-group">
                        <label for="{{ form.email.id_for_label }}">{{ form.email.label }}</label>
                        {{ form.email }}
                        {{ form.email.errors }}
                    </div>
                </div>

                <div class="form-group">
                    <label for="{{ form.phone.id_for_label }}">{{ form.phone.label }}</label>
                    {{ form.phone }}
                    {{ form.phone.errors }}
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="{{ form.appointment_date.id_for_label }}">{{ form.appointment_date.label }}</label>
                        {{ form.appointment_date }}
                        <small>Lundi √† vendredi uniquement</small>
                        {{ form.appointment_date.errors }}
                    </div>
                    <div class="form-group">
                        <label for="{{ form.appointment_time.id_for_label }}">{{ form.appointment_time.label }}</label>
                        {{ form.appointment_time }}
                        <small>9h √† 16h</small>
                        {{ form.appointment_time.errors }}
                    </div>
                </div>

                <div id="time-slots-container" class="time-slots-container"></div>
                <div id="selected-time-display" class="selected-time-display" style="display:none;"></div>

                <div class="form-group">
                    <label for="{{ form.subject.id_for_label }}">{{ form.subject.label }}</label>
                    {{ form.subject }}
                    {{ form.subject.errors }}
                </div>

                <div class="form-group">
                    <label for="{{ form.notes.id_for_label }}">{{ form.notes.label }}</label>
                    {{ form.notes }}
                    {{ form.notes.errors }}
                </div>

                <button type="submit" class="btn-submit">Confirmer le rendez-vous</button>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer-main">
        <div class="footer-content">
            <div class="footer-logo footer-logo-container">
                <img src="{% static 'core/images/logo_no_bg.png' %}" alt="Gourmelon BTP" class="footer-logo-img">
            </div>
            <div class="footer-info">
                <h3 class="footer-title">Gourmelon BTP</h3>
                <p>Formations professionnelles BTP - 11 ans d'exp√©rience</p>
            </div>
            <div class="footer-copyright">
                <p>&copy; 2026 Gourmelon BTP. Tous droits r√©serv√©s.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="{% static 'core/js/script.js' %}"></script>
    <script src="{% static 'core/js/calendar.js' %}"></script>
</body>

</html>
